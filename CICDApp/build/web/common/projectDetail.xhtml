<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"     
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <h:head>
        <title> CI/CD  </title>
    </h:head>
    <h:body>
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <div class="sidebar">
                <ui:insert name="sidebar">
                    <ui:include src="../template/common.xhtml"/>
                </ui:insert>
            </div>
        </aside>
        
        <h:form>
        
        <div class="content-wrapper" style="min-height: 2168.88px;">
            <!-- Content Header (Page header) -->
            <section class="content-header">
              <div class="container-fluid">
                <div class="row mb-2">
                  <div class="col-sm-6 card-header">
                      <h1> #{projectShowBean.project.projectName} </h1>
                  </div>
                </div>
              </div><!-- /.container-fluid -->
            </section>

            <!-- Main content -->
            <section class="content">

            <h:panelGroup rendered="#{!(projectShowBean.project eq null)}">
                <div class="card card-default">
                  <div class="card-header">
                    <h3 class="card-title">Project Details</h3>

                  </div>
                  <!-- /.card-header -->
                  <div class="card-body">


                        <table class="table table-bordered">
                            <tr>
                                <td class="form-group"><label>Project Name</label></td>
                              <td>
                                  <h:inputText value="#{projectShowBean.project.projectName}" styleClass="form-control"/>
                              </td>
                            </tr>
                            <tr>
                                <td class="form-group"><label>Shell Command</label></td>
                              <td>
                                  <h:inputTextarea value="#{projectShowBean.project.shellCommand}" styleClass="form-control"/>
                              </td>
                            </tr>
                            <tr>
                            <td class="form-group"><label>Time Interval</label></td>
                              <td>
                                  <h:inputTextarea value="#{projectShowBean.project.timeInterval}" styleClass="form-control"/>
                              </td>
                            </tr>
                        </table>

                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer">

                  </div>
                </div>
                
            </h:panelGroup>

                
            <h:panelGroup rendered="#{!(projectShowBean.project.repoId eq null)}">

                <div class="card card-default">
                  <div class="card-header">
                    <h3 class="card-title">Repository Details</h3>

                  </div>
                  <!-- /.card-header -->
                  <div class="card-body">


                        <table class="table table-bordered">
                            <tr>
                            <td class="form-group"><label>Physical Path</label></td>
                              <td>
                                <h:inputText value="#{projectShowBean.project.repoId.pysicalPath}" styleClass="form-control"/>
                              </td>
                            </tr>
                        </table>

                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer">

                  </div>
                </div>
                
            </h:panelGroup>

            <h:panelGroup rendered="#{!(projectShowBean.project.repoId.gitId eq null)}">

                <div class="card card-default">
                  <div class="card-header">
                    <h3 class="card-title">Git Details</h3>

                  </div>
                  <!-- /.card-header -->
                  <div class="card-body">


                        <table class="table table-bordered">
                            <tr>
                            <td class="form-group"><label>Repository URL</label></td>
                              <td>
                                <h:inputText value="#{projectShowBean.project.repoId.gitId.repoUrl}" styleClass="form-control"/>
                              </td>
                            </tr>
                        </table>

                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer">

                  </div>
                </div>
            </h:panelGroup>
                
                
                <h:panelGroup rendered="#{!(projectShowBean.lruc eq null)}">

                <div class="card card-default">
                  <div class="card-header">
                    <h3 class="card-title">Team members</h3>

                  </div>
                  <!-- /.card-header -->
                  <div class="card-body">
                      
                      
                      
                        <table class="table table-bordered">
                            <c:forEach var="x" items="#{projectShowBean.lruc}">

                            <tr>
                                <td class="form-group">#{x.userMaster.name}</td>
                                <td>#{x.localRoles.role}</td>
                            </tr>

                        </c:forEach>

                        </table>

                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer">

                  </div>
                </div>
            </h:panelGroup>
                
                
            <h:commandButton value="Apply" action="#{projectShowBean.applyChanges()}" styleClass="btn btn-block btn-success btn-lg"
                             disabled="#{!accessBean.getHaveProjectModifyRights(projectShowBean.project.projectId)}"/>

            </section>
            <!-- /.content -->
          </div>
        </h:form>
            
    </h:body>
      <footer class="main-footer">
    <div class="float-right d-none d-sm-block">
      <b>Version</b> 3.1.0
    </div>
    <strong>DEVELOPED BY PANKTI SHAH AND POOJAN SMART</strong> All rights reserved.
  </footer>
</html>
