<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"     
      xmlns:ui="http://java.sun.com/jsf/facelets"
          
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
    
    </h:head>
    
    
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <div class="sidebar">
                <ui:insert name="sidebar">
                    <ui:include src="./template/common.xhtml"/>
                </ui:insert>
            </div>
        </aside>
    
    
    
    <div class="content-wrapper">
    <div class="content-header">
                 <center>

      <div class="content-fluid">
        <div class="row">
            <div class="col-m-12" style="width:100%;">
             
              <div class="card card-primary"> 
                  <div class="card-header">
                      
                      <h1 class="card-title" style="align-self:center;">Builds</h1>
              </div>
        
                  <section class="content">
                      <div class="content-fluid">
                          <div class="row">
                              <div class="col-12">
                                  <div class="card">
                         
                                      <div class="card-body">
    <h:form id="dform">
    
    <h:dataTable id="dtable" value="#{buildBean.builds}"  var="b"  styleClass="table table-striped" style="padding:0!important;text-align:center;">
        <h:column >
            <f:facet name="header">Build Time</f:facet>
            #{b.prettyBuildTime}
        </h:column>
        <h:column >
            <f:facet name="header">Last Stage</f:facet>
            #{b.stage}
        </h:column>
        <h:column >
            <f:facet name="header">Status</f:facet>
                <h:outputText styleClass="badge badge-success" rendered="#{b.pass eq true}" id="success" value="Succeed" ></h:outputText>
                <h:outputText styleClass="badge badge-warning" rendered="#{b.pass eq false}" id="failure" value="Failure" ></h:outputText>
        </h:column>
        <h:column >
            <f:facet name="header">Details</f:facet>
            <h:link outcome="builddetail.jsf?buildId=#{b.bulidId}" class="btn btn-info">
            Details
            </h:link>
        </h:column>
        

        
        
    </h:dataTable>

        <h:commandButton class="btn btn-info" value="Prev" disabled="#{!buildBean.prev}" action="#{buildBean.doprev()}">
            <f:param name="projectId" value="#{buildBean.projectId}" />
            <f:param name="page" value="#{buildBean.currentPage}" />
        </h:commandButton>
         <h:commandButton class="btn btn-info" value="Next" disabled="#{!buildBean.next}" action="#{buildBean.donext()}">
            <f:param name="projectId" value="#{buildBean.projectId}" />
            <f:param name="page" value="#{buildBean.currentPage}" />
         </h:commandButton>
        
        </h:form>
                                      </div>
                                  </div>
                              </div>
                              
                          </div>
                      </div>
                  </section>
               </div> 
          </div>
        </div>
      </div>
        </center>
    </div>
   
  </div>
    <footer class="main-footer">
    <div class="float-right d-none d-sm-block">
      <b>Version</b> 3.1.0
    </div>
    <strong>DEVELOPED BY PANKTI SHAH AND POOJAN SMART</strong> All rights reserved.
  </footer>
</html>

